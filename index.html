<!DOCTYPE html>
<html lang="en">

<!-- To-do list
- Add more info about campaign zones to the sidepanel so it's clear how they're developed and that I made them

-->

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Suitable Sites for Community Solar</title>
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <div class="parent">

        <!-- Title content -->
        <div class="header">
            <div class="header-text">
                Campaign Zones for Siting Community Solar in Brooklyn Neighborhoods
            </div>
        </div>

        <p>
        </p>

        <!-- Map goes here -->
        <div class="map-container" id="my-map-container"></div>

    </div>

    <!-- Button to reopen the side panel container (this always appears) -->
    <!-- NOTE: this must sit outside the sidepanel div so it stays open -->
    <button type="button" class="reopen-container-button" onclick="openNav()">
        >
    </button>

    <!-- Permanent panel that sits on top of the map and is where clickable information goes -->
    <div id="info-panel">
        <!-- Button to close the sidepanel -->
        <button type="button" id="info-button" onclick=closeinfo()>
            ×
        </button>
        <div id="info-panel-text"></div>
    </div>
    <div id="info-panel-instruction">
        <b>Click on a campaign zone or zoom in to click on a building and learn more.</b>
    </div>

    <!-- Create layer menu to toggle certain layers on and off -->
    <div class="layer-menu" id="my-layer-menu">
        <div id="layer-menu-title">
            <!-- Call to action for layer menu -->
            Click to show or hide layers
        </div>
        <button type="button" class="layer-menu-button" id="bid-button">
            <span class="legend-key"
                style="background-color: #9af5111a; border-color: #98f511; border-style: solid"></span>
            <span>Business Improvement Districts (BIDs)</span>
        </button>
        <button type="button" class="layer-menu-button" id="ibz-button">
            <span class="legend-key"
                style="background-color: #f5be711a; border-color: #f5be71; border-style: solid"></span>
            <span>Industrial Business Zones (IBZs)</span>
        </button>
        <button type="button" class="layer-menu-button" id="dac-button">
            <span>Environmental Justice Disadvantaged Community (DAC) Maps</span>
            <p></p>
            <div id="dac-button-legend">
                <span class="legend-key" style="background-color: #80d366;"></span>
                <span>Federal and state DAC</span> <br>
                <span class="legend-key" style="background-color: #fff400;"></span>
                <span>Federal DAC only</span> <br>
                <span class="legend-key" style="background-color: #00b2cb;"></span>
                <span>State DAC only</span>
            </div>
        </button>
    </div>

    <!-- <nav id="layer-menu">
        <div id="layer-menu-title">
            Click to show or hide additional layers
        </div>
    </nav> -->

    <!-- Create legend that floats over the map in the bottom right corner -->
    <div class="legend">
        <b>Legend</b>
        <div>
            <span class="legend-key"
                style="background-color: hsla(266, 57%, 36%, 0.4); border-color: #54278f; border-style: dashed"></span>
            <span>Campaign Zones</span>
        </div>
        <p></p>
        <div>
            <span class="legend-subtitle"></span>
            <span><i>Building suitability score</i></span>
        </div>
        <div>
            <span class="legend-key" style="background-color: #f7fbff;"></span>
            <span>0-2</span>
        </div>
        <div>
            <span class="legend-key" style="background-color: #c8dcf0;"></span>
            <span>3-5</span>
        </div>
        <div>
            <span class="legend-key" style="background-color: #73b2d8;"></span>
            <span>6-8</span>
        </div>
        <div>
            <span class="legend-key" style="background-color: #2979b9;"></span>
            <span>9-11</span>
        </div>
        <div>
            <span class="legend-key" style="background-color: #08306b;"></span>
            <span>12-14</span>
        </div>
    </div>

    <!-- Content of the sidepanel starts here -->
    <div id="my-sidepanel">

        <!-- Button to close the sidepanel -->
        <button type="button" class="container-button" onclick="closeNav()">
            ×
        </button>

        <!-- Invitation to action -->
        <div id="instructions">
            <p>This map is a tool for outreach to property owners and potential subscribers in community solar projects
                in Brooklyn,
                NY.</p>
            <p>Click the buttons below to learn more about this map.</p>
        </div>

        <!-- This is the FAQ content that sits within the side panel. -->
        <!-- Clicking on a collapsible opens up the content below. -->
        <button type="button" class="collapsible">
            What is this map?
        </button>
        <div id="b1" class="content">
            <p></p>
            <p>This map shows <b>buildings</b> that are suitable for installing rooftop community solar. Buildings are
                scored based on a
                variety of factors (roof height, local laws, and potential solar energy generation).</p>
            <p>The map also shows <b>campaign zones</b>, clusters of highly suitable buildings that can be targeted for
                outreach as part of
                a campaign.</p>
            <p>Finally, this map also provides information about communities of concentrated need that should be
                prioritized for
                community solar <b>subscriber outreach</b>.</p>
            <p></p>
        </div>

        <button type="button" class="collapsible">
            How do I use this map?
        </button>
        <div id="b2" class="content">
            <p>Zoom out and click on campaign zones to learn more about that cluster of buildings and what makes that
                area a good fit for community solar.</p>
            <p>Zoom in and click on individual buildings to learn more about what makes them suitable sites for
                community solar.</p>
            <p></p>
        </div>

        <button type="button" class="collapsible">
            Where does the data come from?
        </button>
        <div id="b3" class="content">
            <p>The data is all publicly available (mostly from NYC Open Data) and was pulled together by Henry
                Kanengiser. Click <a href="https://github.com/henry-kanengiser/fcny-community-solar/"
                    target="_blank">here</a> for the GitHub repository to see the code used. </p>
            <p>This map is the culmination of research conducted as part of the Fund for the City of New York's
                Community Planning
                Fellowship (2023-24). You can learn more about the project <a
                    href="https://docs.google.com/document/d/1p8KHb42GYJB7AQWe59qKt4wDBq_-9EH7pqfoifi0AA8/edit"
                    target="_blank">here</a>.</p>
            <p></p>
        </div>

    </div>

    <!-- Java script calls -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous">
        </script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.js"></script>
    <script src="js/scripts.js"></script>
    <script src="js/listeners.js"></script>
</body>

</html>